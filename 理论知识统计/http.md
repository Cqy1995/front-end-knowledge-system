
# 图解HTTP阅读总结


### 请求方法
get:获取资源  
post:传输实体实力  
put:传输文件  
delete:删除文件  
head:获取报文首部,不返回主体内容  
options:询问支持哪些方法  
trace:追踪路径  
connect:要求用轨道协议连接代理  
link:建立与资源的连接  

### http1.0与1.1的区别
1. tcp连接持久话在1.1中是标准,在1.0中并不是.
⚠️(持久话就是建立一次tcp,连接可以多吃请求响应数据,并不是每次请求响应数据都要发送关闭tcp连接,管线话可并行发送多个请求,比持久化连接更快)
2. 公共首部max-age在http1.0会被忽略使用expires,相反http1.1会使用max-age忽略expires
3. 公共首部Connection在http1.1之前需要使用Keep-Alive,保持持久连接

### http状态码
1xx 信息状态码，接收的请求正在处理    
2xx 成功状态码，接收请求正常处理  
3xx 重定向状态码，需要进行额外操作以完成请求  
4xx 客户端错误状态码，服务器无法处理请求  
5xx 服务端错误状态码，服务器处理请求失败  

### 常见http状态码
1. 204请求处理成功,但没有资源返回  
2. 206进行了范围请求
3. 301永久重定向
4. 302临时重定向
5. 304资源已找到,但未符合条件请求
6. 400请求语法错误
7. 401请求未认证
8. 403不允许访问资源,被服务器拒绝
9. 404服务器没有请求的资源
10. 500服务器发生错误
11. 503服务器处于超负载或停机维护

### cookie
由于http是无状态的,所以使用cookie
1. 在没有cookie信息状态时,在请求报文(request headers)中,首部字段没有cookie
2. 在服务端生成cookie,也就是在响应报文(response headers)中,首部字段set-cookie
3. 在请求时,在请求报文中添加首部字段cookie
4. 服务器检查cookie,做出响应  

##### 请求头分4类:通用首部、请求首部、响应首部和实体首部。
- 通用首部(请求报文与响应报文都会使用的首部)
    - Cache-Control(强制缓存),可接受多个参数
        - **no-cache客户端不会收的缓存过的响应,防止拿到过期的资源**
        - no-store不能在本地存储或响应任一部分(指定缓存期限和认证指令)
        - public表明其他用于也可以利用缓存
        - private表明缓存只能对指定用户使用缓存
        - **max-age = xx(单位:秒)缓存存在的最长时间**
        - s-maxage= xx(单位:秒),功能相同,不同的是只适用于供多位用户使用公共缓存服务器(一般指代理)
        - min-fresh= xx(单位:秒),要求缓存服务器返回至少未指定时间的缓存资源
        - max-stale= xx(单位:秒),可指示缓存资源，即使过期也照常接收。
        - only-if-cached仅在缓存服务器本地缓存目标资源的情况下才会要求其返回
        - must-revalidate,向源服务器再次验证即将返回的响应缓存目前是否有效
        - proxy-revalidate 指令,要求所有的缓存服务器在接收到客户端带有该指令的请求返回响应之前，必须再次验证缓存的有效性
        - no-transform 指令,无论是在请求还是响应中，缓存都不能改变实体主体的媒体类型,(防止缓存或代理压缩图片等类似操作)
    - Connection,管理持久连接,控制不再转发给代理的首部字段
        - close服务器端想明确断开连接
    - Date创建http报文的日期与时间
    



